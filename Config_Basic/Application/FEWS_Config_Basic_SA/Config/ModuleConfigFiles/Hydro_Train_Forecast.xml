<?xml version="1.0" encoding="UTF-8"?>
<generalAdapterRun xmlns="http://www.wldelft.nl/fews" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.wldelft.nl/fews http://fews.wldelft.nl/schemas/version1.0/generalAdapterRun.xsd">
  <general>
    <description>Unit Hydrograph Model</description>
    <rootDir>%REGION_HOME%/Modules/unithg/exercise</rootDir>
    <workDir>%ROOT_DIR%/work</workDir>
    <exportDir>%ROOT_DIR%/input</exportDir>
    <exportIdMap>IdHydro_Export</exportIdMap>
    <importDir>%ROOT_DIR%/output</importDir>
    <importIdMap>IdHydro_Import</importIdMap>
    <dumpFileDir>$GA_DUMPFILEDIR$</dumpFileDir>
    <dumpDir>%ROOT_DIR%</dumpDir>
    <diagnosticFile>%ROOT_DIR%/output/diag.xml</diagnosticFile>
  </general>
  <activities>
    <startUpActivities>
      <purgeActivity>
        <filter>%ROOT_DIR%/work/*.*</filter>
      </purgeActivity>
      <purgeActivity>
        <filter>%ROOT_DIR%/states/*.*</filter>
      </purgeActivity>
      <purgeActivity>
        <filter>%ROOT_DIR%/input/*.*</filter>
      </purgeActivity>
      <purgeActivity>
        <filter>%ROOT_DIR%/output/*.*</filter>
      </purgeActivity>
    </startUpActivities>
    <exportActivities>
      <exportStateActivity>
        <moduleInstanceId>Hydro_Train_Historical</moduleInstanceId>
        <stateExportDir>%ROOT_DIR%/states</stateExportDir>
        <stateConfigFile>%ROOT_DIR%/states/states.xml</stateConfigFile>
        <stateLocations type="file">
          <stateLocation>
            <readLocation>state_in.dat</readLocation>
            <writeLocation>state_out.dat</writeLocation>
          </stateLocation>
        </stateLocations>
        <stateSelection>
          <warmState>
            <stateSearchPeriod unit="hour" start="-48" end="0"/>
          </warmState>
        </stateSelection>
      </exportStateActivity>
      <exportTimeSeriesActivity>
        <exportFile>inputs.xml</exportFile>
        <timeSeriesSets>
          <timeSeriesSet>
            <moduleInstanceId>Hydro_Train_Interpolate_Forecast</moduleInstanceId>
            <valueType>scalar</valueType>
            <parameterId>P.catchment</parameterId>
            <locationId>CatchAvg</locationId>
            <timeSeriesType>simulated forecasting</timeSeriesType>
            <timeStep unit="minute" multiplier="15"/>
            <relativeViewPeriod unit="hour" end="24" endOverrulable="true"/>
            <readWriteMode>read only</readWriteMode>
          </timeSeriesSet>
        </timeSeriesSets>
      </exportTimeSeriesActivity>
    </exportActivities>
    <executeActivities>
      <executeActivity>
        <command>
          <className>nl.wldelft.fews.adapter.common.PreCommonAdapter</className>
        </command>
        <arguments>
          <argument>%ROOT_DIR%</argument>
          <argument>config/deto3i.xml</argument>
        </arguments>
        <timeOut>10000</timeOut>
        <overrulingDiagnosticFile>%ROOT_DIR%/diagnostics/precommonadapter.xml</overrulingDiagnosticFile>
      </executeActivity>
      <executeActivity>
        <command>
          <executable>$UNITHGEXE$</executable>
        </command>
        <arguments>
          <argument>%ROOT_DIR%/config/deto3i.ini</argument>
        </arguments>
        <timeOut>30000</timeOut>
        <ignoreDiagnostics>true</ignoreDiagnostics>
      </executeActivity>
      <executeActivity>
        <description/>
        <command>
          <className>nl.wldelft.fews.adapter.common.PostCommonAdapter</className>
        </command>
        <arguments>
          <argument>%ROOT_DIR%</argument>
          <argument>config/deto3i.xml</argument>
        </arguments>
        <timeOut>10000</timeOut>
        <overrulingDiagnosticFile>%ROOT_DIR%/diagnostics/postcommonadapter.xml</overrulingDiagnosticFile>
      </executeActivity>
    </executeActivities>
    <importActivities>
      <importTimeSeriesActivity>
        <importFile>outputs.xml</importFile>
        <timeSeriesSets>
          <timeSeriesSet>
            <moduleInstanceId>Hydro_Train_Forecast</moduleInstanceId>
            <valueType>scalar</valueType>
            <parameterId>Q.simulated.forecast</parameterId>
            <locationId>Hydro2</locationId>
            <timeSeriesType>simulated forecasting</timeSeriesType>
            <timeStep unit="minute" multiplier="15"/>
            <readWriteMode>add originals</readWriteMode>
          </timeSeriesSet>
        </timeSeriesSets>
      </importTimeSeriesActivity>
    </importActivities>
  </activities>
</generalAdapterRun>
